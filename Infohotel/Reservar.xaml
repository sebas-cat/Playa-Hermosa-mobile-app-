<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:models="clr-namespace:Infohotel.Models"
             x:Class="Infohotel.Reservar"
             Title="Reservar">
    <ContentPage.Content>

        <!-- Contenedor beige con margen a la derecha para crear la separaciÃ³n -->
        <Frame BackgroundColor="#e3d7bf"
               CornerRadius="0"
               HasShadow="False"
               Padding="16"
               Margin="0,0,10,0">
            <!-- ðŸ‘ˆ crea la barra blanca a la derecha -->

            <StackLayout VerticalOptions="FillAndExpand">

                <Label Text="Habitaciones"
                       FontSize="24"
                       FontAttributes="Bold"
                       TextColor="#735945"
                       Margin="0,0,0,8"/>

                <CollectionView ItemsSource="{Binding Rooms}"
                                VerticalOptions="FillAndExpand"
                                Margin="0,0,0,20">

                    <CollectionView.ItemTemplate>
                        <DataTemplate x:DataType="models:Room">

                            <Frame CornerRadius="12"
                                   Padding="8"
                                   Margin="0,0,0,10"
                                   HasShadow="True"
                                   BackgroundColor="White"
                                   BorderColor="#735945">

                                <Grid ColumnDefinitions="100,*,Auto"
                                      ColumnSpacing="10">

                                    <!-- Imagen -->
                                    <Image Grid.Column="0"
                                           Source="{Binding ImageUrl}"
                                           Aspect="AspectFill"
                                           HeightRequest="80"
                                           WidthRequest="100"
                                           BackgroundColor="#e3d7bf" />

                                    <!-- InformaciÃ³n -->
                                    <VerticalStackLayout Grid.Column="1"
                                                         VerticalOptions="Center">
                                        <Label Text="{Binding Name}"
                                               FontAttributes="Bold"
                                               FontSize="16"
                                               TextColor="#333333" />
                                        <Label Text="{Binding ShortDescription}"
                                               FontSize="12"
                                               TextColor="#333333"
                                               LineBreakMode="TailTruncation" />
                                        <Label Text="{Binding PricePerNight, StringFormat='$ {0:N0} por noche'}"
                                               FontSize="12"
                                               TextColor="#735945" />
                                    </VerticalStackLayout>

                                    <!-- BotÃ³n Ver -->
                                    <Button Grid.Column="2"
                                            Text="Ver"
                                            BackgroundColor="#735945"
                                            TextColor="White"
                                            CornerRadius="8"
                                            VerticalOptions="Center"
                                            Clicked="OnViewRoomClicked" />

                                </Grid>

                            </Frame>

                        </DataTemplate>
                    </CollectionView.ItemTemplate>

                </CollectionView>

            </StackLayout>

        </Frame>

    </ContentPage.Content>
</ContentPage>